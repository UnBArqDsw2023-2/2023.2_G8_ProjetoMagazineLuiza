# 4.1. Módulo Estilos e Padrões Arquiteturais

**Foco_01:** Arquitetura de Software

Entrega Mínima: Especificação de 2 Visões do DAS (ESCOPO: Lógica; Processo; Implementação; Implantação e/ou Dados).

OBS: A Visão de Caso de Uso, por ser uma visão já conhecida por vocês em outras disciplinas, não faz parte do escopo. Mas, pode ser explorada de forma adicional pelas equipes.

Apresentação (em sala) explicando o Documento de Arquitetura (DAS), com: (i) rastro claro aos membros participantes (MOSTRAR QUADRO DE PARTICIPAÇÕES & COMMITS); (ii) justificativas & senso crítico sobre esse artefato, em especial detalhando particularidades sobre estilos e padrões arquiteturais idealizados para a aplicação; (iii) breve apresentação da visão do DAS no escopo da aplicação, e (iv) comentários gerais sobre o trabalho em equipe. Tempo da Apresentação: +/- 10min. Recomendação: Apresentar diretamente via Wiki ou GitPages do Projeto.

A Wiki ou GitPages do Projeto deve conter um tópico dedicado ao Módulo Estilos e Padrões Arquiteturais, com Especificação da Visão do DAS, histórico de versões, referências, e demais detalhamentos gerados pela equipe nesse escopo.

Demais orientações disponíveis nas Diretrizes (vide Moodle).

## 2. Visão de Dados

Visão geral de dados persistentes, o qual mapeia dos objetos aos dados persistentes. Trata-se, basicamente, de uma visão do modelo de dados, visualizada com diagramas de classe, os quais são usados para descrever especificamente esse modelo de dados. Para isso o grupo utilizou da linguagem de dados relacionais MySQL, diagrama entidade relacionamento (DER) e modelo relacional

### 2.1 Dicionário de Dados

Um dicionário de dados é um documento ou recurso que fornece informações detalhadas sobre os dados dentro de um sistema de informações, banco de dados ou conjunto de dados. Esse documento é uma referência fundamental para desenvolvedores, administradores de banco de dados, analistas de dados e outros profissionais que trabalham com dados no contexto de um sistema.
Abaixo temos o dicionário de dados para o contexto de estudo de avaliação de produto.

#### 2.1.1 Endereço

| Entidade: Endereço                                              |
| --------------------------------------------------------------- |
| **Descrição:** Tabela que armazena informações sobre endereços. |

<br>

| **Atributo** | **Propriedades do Atributo**           | **Tamanho** | **Descrição**                  |
| ------------ | -------------------------------------- | ----------- | ------------------------------ |
| cep          | CHAR(8) <br> PRIMARY <br> NOT NULL     | 8           | Código de Endereçamento Postal |
| estado       | CHAR(2) <br> NOT NULL                  | 2           | Sigla do estado                |
| cidade       | VARCHAR(100) <br> NOT NULL             | 100         | Nome da cidade                 |
| bairro       | VARCHAR(100) <br> NOT NULL             | 100         | Nome do bairro                 |
| rua          | VARCHAR(100) <br> NOT NULL             | 100         | Nome da rua                    |
| numero       | VARCHAR(16) <br> PRIMARY <br> NOT NULL | 16          | Número do endereço             |
| complemento  | VARCHAR(100) <br> NOT NULL             | 100         | Informações adicionais         |

<p align='center'>
Tabela 1: Entidade Endereço. Autor: [Mauricio Machado](https://github.com/MauricioMachadoFF).
</p>

#### 2.1.2 Usuário

| Entidade: Usuario                                              |
| -------------------------------------------------------------- |
| **Descrição:** Tabela que armazena informações sobre usuários. |

<br>

| **Atributo** | **Propriedades do Atributo**                       | **Tamanho** | **Descrição**                         |
| ------------ | -------------------------------------------------- | ----------- | ------------------------------------- |
| nome         | VARCHAR(100) <br> NOT NULL                         | 100         | Nome do usuário                       |
| email        | VARCHAR(64) <br> PRIMARY <br> UNIQUE <br> NOT NULL | 64          | Endereço de e-mail do usuário (único) |
| senha        | VARCHAR(32) <br> NOT NULL                          | 32          | Senha do usuário                      |
| id_carrinho  | INT <br> PRIMARY <br> NOT NULL                     | -           | Identificador do carrinho do usuário  |

<p align='center'>
Tabela 2: Entidade Usuário. Autor: [Mauricio Machado](https://github.com/MauricioMachadoFF).
</p>

#### 2.1.3 Produto

| Entidade: Produto                                              |
| -------------------------------------------------------------- |
| **Descrição:** Tabela que armazena informações sobre produtos. |

<br>

| **Atributo** | **Propriedades do Atributo** | **Tamanho** | **Descrição**                  |
| ------------ | ---------------------------- | ----------- | ------------------------------ |
| id           | INT                          | -           | Identificador único do produto |
| nome         | VARCHAR(100)                 | 100         | Nome do produto                |
| descricao    | VARCHAR(100)                 | 100         | Descrição do produto           |
| preco        | DECIMAL(10,2)                | -           | Preço do produto               |

<p align='center'>
Tabela 3: Entidade Produto. Autor: [Mauricio Machado](https://github.com/MauricioMachadoFF).
</p>

#### 2.1.4 Avaliação

| Relacionamento: Avaliação                                                                                                                                                                                 |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Descrição:** Tabela que representa a avaliação de um usuário para um produto.<br> Um usuário pode avaliar zero ou vários produtos **(0, n)** e um produto pode ter zero ou várias avaliações **(0, n)** |

<br>

| **Atributo**                    | **Propriedades do Atributo**               | **Tamanho** | **Descrição**                                      |
| ------------------------------- | ------------------------------------------ | ----------- | -------------------------------------------------- |
| id                              | INT                                        | -           | Identificador único da avaliação                   |
| qualidade_geral                 | INT                                        | -           | Avaliação da qualidade geral (0 a 5)               |
| custo_beneficio                 | INT                                        | -           | Avaliação do custo-benefício (0 a 5)               |
| estrelas                        | INT                                        | -           | Número de estrelas dadas (0 a 5)                   |
| usuario_recomenda               | BOOL                                       | -           | Indica se o usuário recomenda o produto            |
| titulo                          | VARCHAR(64)                                | 64          | Título da avaliação                                |
| comentario                      | VARCHAR(100)                               | 100         | Comentário da avaliação                            |
| fk_Usuario_Carrinho_email       | VARCHAR(64) <br> FOREIGN KEY <br> NOT NULL | 64          | Chave estrangeira para o email do usuário          |
| fk_Usuario_Carrinho_id_carrinho | INT <br> FOREIGN KEY <br> NOT NULL         | -           | Chave estrangeira para o id do carrinho do usuário |
| fk_Produto_id                   | INT <br> FOREIGN KEY <br> NOT NULL         | -           | Chave estrangeira para o id do produto             |

<p align='center'>
Tabela 4: Relacionamento Avaliação. Autor: [Mauricio Machado](https://github.com/MauricioMachadoFF).
</p>

#### 2.1.5 Pedido

| Entidade: Pedido                                              |
| ------------------------------------------------------------- |
| **Descrição:** Tabela que armazena informações sobre pedidos. |

<br>

| **Atributo**              | **Propriedades do Atributo**               | **Tamanho** | **Descrição**                               |
| ------------------------- | ------------------------------------------ | ----------- | ------------------------------------------- |
| num_nota_fiscal           | CHAR(44) <br> PRIMARY <br> NOT NULL        | 44          | Número da nota fiscal (chave primária)      |
| data_compra               | DATE <br> NOT NULL                         | -           | Data da compra                              |
| codigo_rastreio           | CHAR(20) <br> UNIQUE <br> NOT NULL         | 20          | Código de rastreio do pedido                |
| fk_Endereco_cep           | CHAR(8) <br> FOREIGN KEY <br> NOT NULL     | 8           | Chave estrangeira para o CEP do endereço    |
| fk_Endereco_numero        | VARCHAR(16) <br> FOREIGN KEY <br> NOT NULL | 16          | Chave estrangeira para o número do endereço |
| fk_Usuario_Carrinho_email | VARCHAR(64) <br> FOREIGN KEY <br> NOT NULL | 64          | Chave estrangeira para o email do usuário   |

<p align='center'>
Tabela 5: Entidade Pedido. Autor: [Mauricio Machado](https://github.com/MauricioMachadoFF).
</p>

#### 2.1.6 Item_Venda

| Relacionamento: Item_Venda                                                                                                                                               |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Descrição:** Tabela que relaciona produtos a pedidos. Um pedido pode possuir um ou vários produtos **(1, n)** e um produto pode ter zero ou vários pedidos **(0, n)**. |

<br>

| **Atributo**              | **Propriedades do Atributo**            | **Tamanho** | **Descrição**                                            |
| ------------------------- | --------------------------------------- | ----------- | -------------------------------------------------------- |
| quantidade                | INT <br> NOT NULL                       | -           | Quantidade do produto no pedido                          |
| fk_Produto_id             | INT <br> FOREIGN KEY <br> NOT NULL      | -           | Chave estrangeira para o id do produto                   |
| fk_Pedido_num_nota_fiscal | CHAR(44) <br> FOREIGN KEY <br> NOT NULL | 44          | Chave estrangeira para o número da nota fiscal do pedido |

<p align='center'>
Tabela 6: Relacionamento Item_Venda. Autor: [Mauricio Machado](https://github.com/MauricioMachadoFF).
</p>

#### 2.1.7 Item_Carrinho

| Relacionamento: Item_Carrinho                                                                                                                                                                 |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Descrição:** Tabela que relaciona produtos a carrinhos de usuários. Um carrinho pode ter zero ou vários produtos **(0, n)** e um produto pode estar em zero ou vários carrinhos **(0, n)**. |

<br>

| **Atributo**                    | **Propriedades do Atributo**               | **Tamanho** | **Descrição**                                      |
| ------------------------------- | ------------------------------------------ | ----------- | -------------------------------------------------- |
| quantidade                      | INT <br> NOT NULL                          | -           | Quantidade do produto no carrinho                  |
| fk_Usuario_Carrinho_email       | VARCHAR(64) <br> FOREIGN KEY <br> NOT NULL | 64          | Chave estrangeira para o email do usuário          |
| fk_Usuario_Carrinho_id_carrinho | INT <br> FOREIGN KEY <br> NOT NULL         | -           | Chave estrangeira para o id do carrinho do usuário |
| fk_Produto_id                   | INT <br> FOREIGN KEY <br> NOT NULL         | -           | Chave estrangeira para o id do produto             |

<p align='center'>
Tabela 7: Relacionamento Item_Carrinho. Autor: [Mauricio Machado](https://github.com/MauricioMachadoFF).
</p>

#### 2.1.8 Endereco_Usuario

| Relacionamento: Endereco_Usuario                                                                                                                                             |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Descrição:** Tabela que relaciona endereços a usuários. Um usuário pode ter zero ou vários endereços **(0, n)**, um endereço pode ser de um ou vários usuários **(1, n)**. |

<br>

| **Atributo**              | **Propriedades do Atributo**               | **Tamanho** | **Descrição**                               |
| ------------------------- | ------------------------------------------ | ----------- | ------------------------------------------- |
| fk_Usuario_Carrinho_email | VARCHAR(64) <br> FOREIGN KEY <br> NOT NULL | 64          | Chave estrangeira para o email do usuário   |
| fk_Endereco_cep           | CHAR(8) <br> FOREIGN KEY <br> NOT NULL     | 8           | Chave estrangeira para o CEP do endereço    |
| fk_Endereco_numero        | VARCHAR(16) <br> FOREIGN KEY <br> NOT NULL | 16          | Chave estrangeira para o número do endereço |

<p align='center'>
Tabela 8: Relacionamento Endereco_Ususario. Autor: [Mauricio Machado](https://github.com/MauricioMachadoFF).
</p>

### 2.2 Diagrama Entidade Relacionamento (DER)

O Diagrama Entidade Relacionamento (DER) é uma ferramenta gráfica utilizada na modelagem de dados para representar as entidades de um sistema e os relacionamentos entre essas entidades. Ele é uma parte fundamental do projeto de banco de dados e é usado para visualizar a estrutura lógica do sistema e como os dados estão relacionados entre si. Para construção desse diagrama foi usado o software [brModelo](http://www.sis4.com/brModelo/), você pode ter acesso ao [arquivo compatível com o software aqui.](https://raw.githubusercontent.com/UnBArqDsw2023-2/2023.2_G8_ProjetoMagazineLuiza/main/docs/Assets/ArquiteturaReutilizacao/VisaoDados/MER_magazineluiza.brM3")

<div align = "center"><img src="https://raw.githubusercontent.com/UnBArqDsw2023-2/2023.2_G8_ProjetoMagazineLuiza/main/docs/Assets/ArquiteturaReutilizacao/VisaoDados/MER_magazineluiza.png" alt="Figura 1: Diagrama Entidade Relacionamento."></div>

<p align='center'>
Figura 1: Diagrama Entidade Relacionamento. Autor: [Mauricio Machado](https://github.com/MauricioMachadoFF).
</p>

### 2.3 Modelo Relacional (MRel)

O Modelo relacional apresenta uma possível implementação lógica do DER. Para construção desse diagrama foi usado o software [brModelo](http://www.sis4.com/brModelo/), você pode ter acesso ao [arquivo compatível com o software aqui.](https://raw.githubusercontent.com/UnBArqDsw2023-2/2023.2_G8_ProjetoMagazineLuiza/main/docs/Assets/ArquiteturaReutilizacao/VisaoDados/Modelo_Relacionao_magazineluiza.brM3")

<div align = "center"><img src="https://raw.githubusercontent.com/UnBArqDsw2023-2/2023.2_G8_ProjetoMagazineLuiza/main/docs/Assets/ArquiteturaReutilizacao/VisaoDados/Modelo_Relacionao_magazineluiza.png" alt="Figura 2: Modelo Relacional."></div>

<p align='center'>
Figura 2: Modelo Relacional. Autor: [Mauricio Machado](https://github.com/MauricioMachadoFF).
</p>

### 2.4 Exemplo prático

A fim de tornar essa implementação sugerida mais tangível para leitores, o grupo decidiu criar scripts sql com o objetivo de simular como seria o armazenamento persistente de informações no contexto de avaliação de produtos. Para construção dessas scripts foi usado a linguagem relacional de bancos MySQL na versão 8 e, além disso, o software [MySQLWorkbench](> brModelo: SIS4. brModelo, 2020. Disponível em: <http://www.sis4.com/brModelo/>. Acesso em: 25, Novembro de 2025.).

Para testar será necessário ter acesso a linguagem da mysql numa mesma versão ou em versão superior. Após ter esse resuito basta executar os scripts na seguinte ordem:

<ol>
    <li>Script Físico: Irá realizar a criação das tabelas e dos procedimentos de armazenamanto, seu nome é [`grupo_8_projeto_magazineluiza_fisico` e pode ser encontrado aqui.](https://raw.githubusercontent.com/UnBArqDsw2023-2/2023.2_G8_ProjetoMagazineLuiza/main/docs/Assets/ArquiteturaReutilizacao/VisaoDados/grupo_8_magazineluiza_fisico.sql)</li>
<li>Script Popula: Irá popular as tabelas com informaçoes relevantes ao contexto de *ecommerce*, seu nome é [`grupo_8_projeto_magazineluiza_popula` e pode ser encontrado aqui.](https://raw.githubusercontent.com/UnBArqDsw2023-2/2023.2_G8_ProjetoMagazineLuiza/main/docs/Assets/ArquiteturaReutilizacao/VisaoDados/grupo_8_magazineluiza_popula.sql)</li>
    <li>Script Apaga: Utilizar após acessar o banco e realizar algumas consultas no bacno de dados populado. Irá realizar exclusão das tabelas criadas e seus dados, seu nome é [`grupo_8_projeto_magazineluiza_apaga` e pode ser encontrado aqui.](https://raw.githubusercontent.com/UnBArqDsw2023-2/2023.2_G8_ProjetoMagazineLuiza/main/docs/Assets/ArquiteturaReutilizacao/VisaoDados/grupo_8_magazineluiza_apaga.sql)</li>
</ol>

### 2.5 Execução do Exemplo

Abaixo é possível veríficar os códigos de cada script e seu resultado ao ser executados.

#### 2.5.1 Script Físico

```
create database if not exists grupo_8_magazineluiza;

use grupo_8_magazineluiza;

-- Create Endereco table
CREATE TABLE IF NOT EXISTS Endereco (
    cep CHAR(8),
    estado CHAR(2),
    cidade VARCHAR(100),
    bairro VARCHAR(100),
    rua VARCHAR(100),
    numero VARCHAR(16),
    complemento VARCHAR(100),
    PRIMARY KEY (cep, numero)
);

-- Create Usuario table
CREATE TABLE IF NOT EXISTS Usuario (
    nome VARCHAR(100),
    email VARCHAR(64) UNIQUE,
    senha VARCHAR(32),
    id_carrinho INT,
    PRIMARY KEY (email, id_carrinho)
);

-- Create stored procedure to validate email format
DELIMITER //

CREATE PROCEDURE ValidateEmailFormat(IN p_email VARCHAR(64))
BEGIN
    DECLARE error_message VARCHAR(255) DEFAULT NULL;

    -- Check if the email format is valid
    IF p_email NOT REGEXP '^[A-Za-z0-9._%-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,4}$' THEN
        SET error_message = 'Invalid email format';
    END IF;

    -- Raise an error if the email format is invalid
    IF error_message IS NOT NULL THEN
        SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = error_message;
    END IF;
END //

DELIMITER ;

-- Create Produto table
CREATE TABLE IF NOT EXISTS Produto (
    id INT PRIMARY KEY,
    nome VARCHAR(100),
    descricao VARCHAR(100),
    preco DECIMAL(10,2)
);

-- Create Avaliacao table
CREATE TABLE IF NOT EXISTS Avaliacao (
    id INT PRIMARY KEY,
    qualidade_geral INT,
    custo_beneficio INT,
    estrelas INT,
    usuario_recomenda BOOL,
    titulo VARCHAR(64),
    comentario VARCHAR(100),
    fk_Usuario_Carrinho_email VARCHAR(64),
    fk_Usuario_Carrinho_id_carrinho INT,
    fk_Produto_id INT,
    FOREIGN KEY (fk_Usuario_Carrinho_email, fk_Usuario_Carrinho_id_carrinho) REFERENCES Usuario (email, id_carrinho),
    FOREIGN KEY (fk_Produto_id) REFERENCES Produto (id)
);

DELIMITER //

CREATE PROCEDURE InsertAvaliacao(
    IN p_id INT,
    IN p_qualidade_geral INT,
    IN p_custo_beneficio INT,
    IN p_estrelas INT,
    IN p_usuario_recomenda BOOL,
    IN p_titulo VARCHAR(64),
    IN p_comentario VARCHAR(100),
    IN p_fk_Usuario_Carrinho_email VARCHAR(64),
    IN p_fk_Usuario_Carrinho_id_carrinho INT,
    IN p_fk_Produto_id INT
)
BEGIN
    -- Check if the values are within the desired range
    IF p_qualidade_geral BETWEEN 0 AND 5 AND
       p_custo_beneficio BETWEEN 0 AND 5 AND
       p_estrelas BETWEEN 0 AND 5 THEN

        -- Insert the data into the Avaliacao table
        INSERT INTO Avaliacao (
            id,
            qualidade_geral,
            custo_beneficio,
            estrelas,
            usuario_recomenda,
            titulo,
            comentario,
            fk_Usuario_Carrinho_email,
            fk_Usuario_Carrinho_id_carrinho,
            fk_Produto_id
        ) VALUES (
            p_id,
            p_qualidade_geral,
            p_custo_beneficio,
            p_estrelas,
            p_usuario_recomenda,
            p_titulo,
            p_comentario,
            p_fk_Usuario_Carrinho_email,
            p_fk_Usuario_Carrinho_id_carrinho,
            p_fk_Produto_id
        );

    ELSE
        -- Values are not within the desired range, raise an error or handle as needed
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'Values for qualidade_geral, custo_beneficio, and estrelas must be between 0 and 5';
    END IF;
END //

DELIMITER ;


-- Create Pedido table
CREATE TABLE IF NOT EXISTS Pedido (
    num_nota_fiscal CHAR(44) PRIMARY KEY,
    data_compra DATE,
    codigo_rastreio CHAR(20),
    fk_Endereco_cep CHAR(8),
    fk_Endereco_numero VARCHAR(16),
    fk_Usuario_Carrinho_email VARCHAR(64),
    FOREIGN KEY (fk_Endereco_cep, fk_Endereco_numero) REFERENCES Endereco (cep, numero) ON DELETE CASCADE,
    FOREIGN KEY (fk_Usuario_Carrinho_email) REFERENCES Usuario (email) ON DELETE CASCADE
);

-- Create Item_Venda table
CREATE TABLE IF NOT EXISTS Item_Venda (
    quantidade INT,
    fk_Produto_id INT,
    fk_Pedido_num_nota_fiscal CHAR(44),
    FOREIGN KEY (fk_Produto_id) REFERENCES Produto (id),
    FOREIGN KEY (fk_Pedido_num_nota_fiscal) REFERENCES Pedido (num_nota_fiscal)
);

-- Create Item_Carrinho table
CREATE TABLE IF NOT EXISTS Item_Carrinho (
    quantidade INT,
    fk_Usuario_Carrinho_email VARCHAR(64),
    fk_Usuario_Carrinho_id_carrinho INT,
    fk_Produto_id INT,
    FOREIGN KEY (fk_Usuario_Carrinho_email, fk_Usuario_Carrinho_id_carrinho) REFERENCES Usuario (email, id_carrinho),
    FOREIGN KEY (fk_Produto_id) REFERENCES Produto (id)
);

-- Create Endereco_Usuario table
CREATE TABLE IF NOT EXISTS Endereco_Usuario (
    fk_Usuario_Carrinho_email VARCHAR(64),
    fk_Endereco_cep CHAR(8),
    fk_Endereco_numero VARCHAR(16),
    FOREIGN KEY (fk_Usuario_Carrinho_email) REFERENCES Usuario (email),
    FOREIGN KEY (fk_Endereco_cep, fk_Endereco_numero) REFERENCES Endereco (cep, numero) ON DELETE SET NULL
);

```

<div align = "center"><img src="https://raw.githubusercontent.com/UnBArqDsw2023-2/2023.2_G8_ProjetoMagazineLuiza/main/docs/Assets/ArquiteturaReutilizacao/VisaoDados/resultado_fisico.png" alt="Figura 3: Resultado execução script físico."></div>

<p align='center'>
Figura 3: Resultado execução script físico. Autor: [Mauricio Machado](https://github.com/MauricioMachadoFF).
</p>

#### 2.5.2 Script Popula

```
-- Populate Endereco table
INSERT INTO Endereco (cep, estado, cidade, bairro, rua, numero, complemento)
VALUES
    ('12345678', 'SP', 'Sao Paulo', 'Centro', 'Avenida Paulista', '123', 'Apto 1'),
    ('87654321', 'RJ', 'Rio de Janeiro', 'Copacabana', 'Rua Nascimento Silva', '456', 'Bloco B'),
    ('23456789', 'MG', 'Belo Horizonte', 'Savassi', 'Rua da Bahia', '789', 'Casa 2'),
    ('34567890', 'RS', 'Porto Alegre', 'Moinhos de Vento', 'Avenida Mostardeiro', '890', 'Apto 3'),
    ('45678901', 'PR', 'Curitiba', 'Batel', 'Rua Comendador Araújo', '901', 'Conjunto 10'),
    ('56789012', 'SC', 'Florianopolis', 'Centro', 'Rua Felipe Schmidt', '123', 'Apto 5'),
    ('67890123', 'BA', 'Salvador', 'Barra', 'Avenida Oceânica', '234', 'Casa 7'),
    ('78901234', 'PE', 'Recife', 'Boa Viagem', 'Rua dos Navegantes', '345', 'Bloco C'),
    ('89012345', 'CE', 'Fortaleza', 'Meireles', 'Avenida Beira Mar', '456', 'Apto 9'),
    ('90123456', 'AM', 'Manaus', 'Adrianopolis', 'Rua Belo Horizonte', '567', 'Casa 11'),
    ('01234567', 'PA', 'Belem', 'Nazare', 'Travessa 14 de Marco', '678', 'Apto 13'),
    ('12345678', 'SP', 'Sao Paulo', 'Moema', 'Avenida Ibirapuera', '789', 'Conjunto 15'),
    ('23456789', 'RJ', 'Niteroi', 'Icarai', 'Rua Miguel de Frias', '890', 'Apto 17'),
    ('34567890', 'MG', 'Uberlandia', 'Centro', 'Avenida Afonso Pena', '901', 'Casa 19'),
    ('45678901', 'RS', 'Caxias do Sul', 'Pio X', 'Rua Sinimbu', '123', 'Apto 21'),
    ('56789012', 'PR', 'Londrina', 'Centro', 'Avenida Higienopolis', '234', 'Conjunto 23'),
    ('67890123', 'SC', 'Joinville', 'Centro', 'Rua Dr. Joao Colin', '345', 'Apto 25'),
    ('78901234', 'BA', 'Feira de Santana', 'Centro', 'Avenida Getulio Vargas', '456', 'Casa 27'),
    ('89012345', 'PE', 'Jaboatao dos Guararapes', 'Candeias', 'Rua Oscar Francisco de Melo', '567', 'Apto 29'),
    ('90123456', 'CE', 'Juazeiro do Norte', 'Centro', 'Rua Padre Cicero', '678', 'Conjunto 31'),
    ('01234567', 'AM', 'Itacoatiara', 'Centro', 'Rua Barroso', '789', 'Apto 33'),
    ('12345678', 'PA', 'Santarem', 'Aldeia', 'Travessa Tupaiulandia', '890', 'Casa 35'),
    ('23456789', 'SP', 'Sao Jose dos Campos', 'Jardim Satelite', 'Rua das Gaivotas', '901', 'Apto 37'),
    ('34567890', 'RJ', 'Nova Friburgo', 'Centro', 'Avenida Alberto Braune', '123', 'Conjunto 39'),
    ('45678901', 'MG', 'Pocos de Caldas', 'Centro', 'Rua Assis Figueiredo', '234', 'Apto 41'),
    ('56789012', 'RS', 'Pelotas', 'Centro', 'Rua Andrade Neves', '345', 'Casa 43'),
    ('67890123', 'PR', 'Ponta Grossa', 'Centro', 'Avenida Vicente Machado', '456', 'Apto 45'),
    ('78901234', 'SC', 'Criciuma', 'Centro', 'Rua Henrique Lage', '567', 'Conjunto 47'),
    ('89012345', 'BA', 'Ilheus', 'Centro', 'Avenida Osvaldo Cruz', '678', 'Apto 49'),
    ('90123456', 'PE', 'Caruaru', 'Indianopolis', 'Rua Cel. Limeira', '789', 'Casa 51');

-- Populate Usuario table
INSERT INTO Usuario (nome, email, senha, id_carrinho)
VALUES
    ('John Doe', 'john.doe@example.com', 'password123', 1),
    ('Jane Smith', 'jane.smith@example.com', 'letmein', 2),
    ('Alice Johnson', 'alice.johnson@example.com', 'securepass', 3),
    ('Bob Williams', 'bob.williams@example.com', 'pass1234', 4),
    ('Emily Davis', 'emily.davis@example.com', 'mypassword', 5),
    ('Michael Brown', 'michael.brown@example.com', 'ilovecoding', 6),
    ('Olivia Miller', 'olivia.miller@example.com', 'p@ssw0rd', 7),
    ('Daniel Wilson', 'daniel.wilson@example.com', 'qwerty', 8),
    ('Sophia Garcia', 'sophia.garcia@example.com', 'secret123', 9),
    ('William Martinez', 'william.martinez@example.com', 'letmein321', 10),
    ('Ella Rodriguez', 'ella.rodriguez@example.com', 'mysecurepass', 11),
    ('Matthew Taylor', 'matthew.taylor@example.com', 'passpass', 12),
    ('Amelia Thomas', 'amelia.thomas@example.com', 'password567', 13),
    ('James Hernandez', 'james.hernandez@example.com', 'secure123', 14),
    ('Grace Martinez', 'grace.martinez@example.com', 'myp@ssword', 15),
    ('Alexander Johnson', 'alexander.johnson@example.com', 'iloveyou', 16),
    ('Chloe Smith', 'chloe.smith@example.com', 'pass12345', 17),
    ('Daniel Davis', 'daniel.davis@example.com', 'letmein123', 18),
    ('Mia Taylor', 'mia.taylor@example.com', 'password789', 19),
    ('Liam Wilson', 'liam.wilson@example.com', 'securepass321', 20),
    ('Sophie Brown', 'sophie.brown@example.com', 'qwerty123', 21),
    ('Benjamin Wilson', 'benjamin.wilson@example.com', 'myp@ss', 22),
    ('Ava Smith', 'ava.smith@example.com', 'password890', 23),
    ('Henry Thomas', 'henry.thomas@example.com', 'securepass123', 24),
    ('Evelyn Rodriguez', 'evelyn.rodriguez@example.com', 'letmein567', 25),
    ('Lucas Taylor', 'lucas.taylor@example.com', 'mypass123', 26),
    ('Scarlett Hernandez', 'scarlett.hernandez@example.com', 'pass567', 27),
    ('Jackson Martinez', 'jackson.martinez@example.com', 'qwerty321', 28),
    ('Lily Davis', 'lily.davis@example.com', 'mypassword123', 29),
    ('Ethan Johnson', 'ethan.johnson@example.com', 'letmein890', 30),
    ('Zoe Brown', 'zoe.brown@example.com', 'password321', 31),
    ('Carter Wilson', 'carter.wilson@example.com', 'secure567', 32),
    ('Aria Taylor', 'aria.taylor@example.com', 'myp@ss123', 33),
    ('Sebastian Smith', 'sebastian.smith@example.com', 'pass890', 34),
    ('Luna Davis', 'luna.davis@example.com', 'letmein5678', 35),
    ('Mateo Hernandez', 'mateo.hernandez@example.com', 'password098', 36),
    ('Madison Martinez', 'madison.martinez@example.com', 'secure890', 37),
    ('Gabriel Johnson', 'gabriel.johnson@example.com', 'letmein098', 38),
    ('Avery Taylor', 'avery.taylor@example.com', 'mypassword890', 39),
    ('Logan Brown', 'logan.brown@example.com', 'password765', 40),
    ('Sofia Wilson', 'sofia.wilson@example.com', 'securepass567', 41),
    ('Jackson Smith', 'jackson.smith@example.com', 'letmein765', 42),
    ('Harper Davis', 'harper.davis@example.com', 'myp@ss567', 43),
    ('Emma Johnson', 'emma.johnson@example.com', 'qwerty567', 44);

-- Populate Endereco_Usuario table
INSERT INTO Endereco_Usuario (fk_Usuario_Carrinho_email, fk_Endereco_cep, fk_Endereco_numero)
VALUES
    ('john.doe@example.com', '12345678', '123'),
    ('jane.smith@example.com', '12345678', '123'),
    ('bob.williams@example.com', '34567890', '901'),
    ('emily.davis@example.com', '87654321', '456'),
    ('michael.brown@example.com', '87654321', '456');


-- Populate Produto table
INSERT INTO Produto (id, nome, descricao, preco)
VALUES
    (1, 'Laptop', 'High-performance laptop', 999.99),
    (2, 'Smartphone', 'Latest model with great features', 599.99),
    (3, 'Smartwatch', 'Fitness tracker and smartwatch', 149.99),
    (4, 'Headphones', 'Noise-canceling wireless headphones', 129.99),
    (5, 'Tablet', 'Large screen tablet for productivity', 349.99),
    (6, 'Gaming Console', 'Next-gen gaming console', 499.99),
    (7, '4K Smart TV', 'Ultra HD Smart TV with streaming apps', 899.99),
    (8, 'Digital Camera', 'High-resolution digital camera', 699.99),
    (9, 'Wireless Earbuds', 'Compact and stylish wireless earbuds', 79.99),
    (10, 'Bluetooth Speaker', 'Portable Bluetooth speaker', 49.99),
    (11, 'External Hard Drive', '1TB external hard drive', 79.99),
    (12, 'Fitness Tracker', 'Track your fitness and health', 59.99),
    (13, 'Home Security Camera', 'Smart home security camera', 129.99),
    (14, 'Electric Toothbrush', 'Smart electric toothbrush', 39.99),
    (15, 'Coffee Maker', 'Programmable coffee maker', 89.99),
    (16, 'Robot Vacuum Cleaner', 'Smart robot vacuum for easy cleaning', 199.99),
    (17, 'Wireless Router', 'High-speed wireless router', 79.99),
    (18, 'Smart Thermostat', 'Programmable smart thermostat', 149.99),
    (19, 'Electric Scooter', 'Foldable electric scooter', 299.99),
    (20, 'Bluetooth Keyboard', 'Compact Bluetooth keyboard', 29.99),
    (21, 'Gaming Mouse', 'High-precision gaming mouse', 49.99),
    (22, 'Portable Charger', 'High-capacity portable charger', 39.99),
    (23, 'Wireless Charging Pad', 'Qi-compatible wireless charging pad', 19.99),
    (24, 'Bluetooth Headset', 'Comfortable Bluetooth headset', 59.99),
    (25, 'Portable Projector', 'Compact and portable projector', 129.99),
    (26, 'Smart Light Bulbs', 'Smart LED light bulbs', 19.99),
    (27, 'Bluetooth Earphones', 'Wireless Bluetooth earphones', 39.99),
    (28, 'Outdoor Security Camera', 'Weather-resistant outdoor security camera', 149.99),
    (29, 'Smart Doorbell', 'Video doorbell with smart features', 199.99),
    (30, 'Wireless Gaming Controller', 'Bluetooth gaming controller', 49.99),
    (31, 'Smart Plug', 'WiFi-enabled smart plug', 14.99),
    (32, 'Portable Bluetooth Printer', 'Compact mobile printer', 79.99),
    (33, 'Waterproof Bluetooth Speaker', 'Waterproof outdoor Bluetooth speaker', 59.99),
    (34, 'Wireless Keyboard and Mouse Combo', 'Compact combo for productivity', 39.99),
    (35, 'Fitness Smart Scale', 'Bluetooth-connected smart scale', 29.99),
    (36, 'In-Ear Monitor Headphones', 'Professional in-ear monitor headphones', 129.99),
    (37, 'Gaming Mechanical Keyboard', 'Mechanical keyboard for gaming', 69.99),
    (38, 'Smart Home Hub', 'Central hub for smart home devices', 79.99),
    (39, 'Cordless Handheld Vacuum', 'Portable cordless vacuum cleaner', 89.99),
    (40, 'High-Speed USB-C Cable', 'Durable USB-C cable for fast charging', 9.99),
    (41, 'Compact Photo Printer', 'Print photos on the go', 59.99),
    (42, 'Wireless In-Ear Sports Headphones', 'Sweat-resistant sports headphones', 49.99),
    (43, 'Bluetooth Karaoke Microphone', 'Wireless microphone for karaoke', 29.99),
    (44, 'Smart WiFi Camera', 'WiFi-connected surveillance camera', 79.99),
    (45, 'Wireless Gaming Mouse', 'Gaming mouse with low-latency wireless connection', 59.99),
    (46, 'Wireless Charging Stand', 'Qi-enabled wireless charging stand', 24.99),
    (47, 'Smart Mirror', 'Mirror with built-in smart features', 129.99),
    (48, 'Portable External SSD', 'High-speed portable SSD for data storage', 119.99),
    (49, 'Bluetooth Car Kit', 'Wireless Bluetooth car kit for hands-free calls', 34.99),
    (50, 'Smart LED Strip Lights', 'RGB LED strip lights with smart control', 49.99);

-- Populate Avaliacao table
INSERT INTO Avaliacao (id, qualidade_geral, custo_beneficio, estrelas, usuario_recomenda, titulo, comentario, fk_Usuario_Carrinho_email, fk_Usuario_Carrinho_id_carrinho, fk_Produto_id)
VALUES
    (1, 4, 5, 4, TRUE, 'Great Product', 'I love this product. It exceeded my expectations.', 'john.doe@example.com', 1, 1),
    (2, 3, 4, 3, FALSE, 'Not Bad', 'Decent product for the price. Could be better.', 'jane.smith@example.com', 2, 2),
    (3, 5, 5, 5, TRUE, 'Amazing Experience', 'This is the best product I have ever purchased. Highly recommended!', 'john.doe@example.com', 1, 3),
    (4, 2, 3, 2, FALSE, 'Disappointed', 'Not satisfied with the quality. Wouldn not recommend.', 'jane.smith@example.com', 2, 4),
    (5, 4, 4, 4, TRUE, 'Impressive', 'Impressed with the features. Good value for money.', 'john.doe@example.com', 1, 5),
    (6, 3, 3, 3, FALSE, 'Average', 'The product is okay. Nothing special.', 'jane.smith@example.com', 2, 6),
    (7, 5, 5, 5, TRUE, 'Excellent Purchase', 'Couldn not be happier with my purchase. Definitely recommend.', 'john.doe@example.com', 1, 7),
    (8, 2, 2, 2, FALSE, 'Not Worth It', 'Regret buying this product. Poor quality.', 'jane.smith@example.com', 2, 8),
    (9, 4, 4, 4, TRUE, 'Satisfied Customer', 'Good overall experience. Will buy again.', 'john.doe@example.com', 1, 9),
    (10, 3, 3, 3, FALSE, 'Mediocre', 'Not impressed. Expected better quality.', 'jane.smith@example.com', 2, 10);

-- Populate Pedido table
INSERT INTO Pedido (num_nota_fiscal, data_compra, codigo_rastreio, fk_Endereco_cep, fk_Endereco_numero, fk_Usuario_Carrinho_email)
VALUES
    ('12345678901234567890123456789012345678901278', '2023-11-01', 'ABC123', '12345678', '123', 'john.doe@example.com'),
    ('98765432109876543210987654321098765432109876', '2023-11-02', 'DEF456', '87654321', '456', 'jane.smith@example.com'),
    ('12345678901234567890123456789012345678901279', '2023-11-01', 'ABC123', '12345678', '123', 'john.doe@example.com'),
    ('98765432109876543210987654321098765432109877', '2023-11-02', 'DEF456', '87654321', '456', 'jane.smith@example.com'),
    ('12345678901234567890123456789012345678901280', '2023-11-01', 'ABC123', '12345678', '123', 'john.doe@example.com'),
    ('98765432109876543210987654321098765432109878', '2023-11-02', 'DEF456', '87654321', '456', 'jane.smith@example.com'),
    ('12345678901234567890123456789012345678901281', '2023-11-01', 'ABC123', '12345678', '123', 'john.doe@example.com'),
    ('98765432109876543210987654321098765432109879', '2023-11-02', 'DEF456', '87654321', '456', 'jane.smith@example.com');



-- Populate Item_Venda table
INSERT INTO Item_Venda (quantidade, fk_Produto_id, fk_Pedido_num_nota_fiscal)
VALUES
    (2, 1, '12345678901234567890123456789012345678901278'),
    (1, 2, '12345678901234567890123456789012345678901278'),
    (3, 1, '12345678901234567890123456789012345678901278'),
    (2, 2, '12345678901234567890123456789012345678901278'),
    (1, 1, '12345678901234567890123456789012345678901278'),
    (4, 2, '12345678901234567890123456789012345678901278'),
    (2, 1, '12345678901234567890123456789012345678901278'),
    (1, 2, '12345678901234567890123456789012345678901278'),
    (3, 1, '12345678901234567890123456789012345678901278'),
    (2, 2, '12345678901234567890123456789012345678901278'),
    (1, 1, '98765432109876543210987654321098765432109876'),
    (4, 2, '98765432109876543210987654321098765432109876'),
    (2, 1, '98765432109876543210987654321098765432109876'),
    (1, 2, '98765432109876543210987654321098765432109876'),
    (3, 1, '98765432109876543210987654321098765432109876'),
    (2, 2, '12345678901234567890123456789012345678901279'),
    (1, 1, '12345678901234567890123456789012345678901279'),
    (4, 2, '12345678901234567890123456789012345678901279'),
    (2, 1, '12345678901234567890123456789012345678901279'),
    (1, 2, '12345678901234567890123456789012345678901279'),
    (3, 1, '12345678901234567890123456789012345678901279'),
    (2, 2, '12345678901234567890123456789012345678901279'),
    (1, 1, '12345678901234567890123456789012345678901279'),
    (4, 2, '12345678901234567890123456789012345678901279'),
    (2, 1, '12345678901234567890123456789012345678901279'),
    (1, 2, '12345678901234567890123456789012345678901279'),
    (3, 1, '12345678901234567890123456789012345678901279'),
    (2, 2, '12345678901234567890123456789012345678901279'),
    (1, 1, '98765432109876543210987654321098765432109877'),
    (4, 2, '98765432109876543210987654321098765432109877'),
    (2, 1, '98765432109876543210987654321098765432109877'),
    (1, 2, '98765432109876543210987654321098765432109877'),
    (3, 1, '98765432109876543210987654321098765432109877'),
    (2, 2, '98765432109876543210987654321098765432109877'),
    (1, 1, '98765432109876543210987654321098765432109877'),
    (4, 2, '98765432109876543210987654321098765432109877'),
    (2, 1, '12345678901234567890123456789012345678901281'),
    (1, 2, '12345678901234567890123456789012345678901281'),
    (3, 1, '12345678901234567890123456789012345678901281'),
    (2, 2, '12345678901234567890123456789012345678901281'),
    (1, 1, '12345678901234567890123456789012345678901281');

-- Populate Item_Carrinho table
INSERT INTO Item_Carrinho (quantidade, fk_Usuario_Carrinho_email, fk_Usuario_Carrinho_id_carrinho, fk_Produto_id)
VALUES
    (2, 'john.doe@example.com', 1, 1),
    (3, 'jane.smith@example.com', 2, 2),
    (1, 'alice.johnson@example.com', 3, 1),
    (4, 'bob.williams@example.com', 4, 2),
    (2, 'john.doe@example.com', 1, 1),
    (3, 'john.doe@example.com', 1, 2),
    (1, 'john.doe@example.com', 1, 1),
    (4, 'john.doe@example.com', 1, 2),
    (2, 'jane.smith@example.com', 2, 1),
    (3, 'jane.smith@example.com', 2, 2);

```

<div align = "center"><img src="https://raw.githubusercontent.com/UnBArqDsw2023-2/2023.2_G8_ProjetoMagazineLuiza/main/docs/Assets/ArquiteturaReutilizacao/VisaoDados/resultado_popula.png" alt="Figura 4: Resultado execução script popula."></div>

<p align='center'>
Figura 4: Resultado execução script popula. Autor: [Mauricio Machado](https://github.com/MauricioMachadoFF).
</p>

#### 2.5.3 Script Apaga

```
USE grupo_8_magazineluiza;

-- Drop stored procedures
DROP PROCEDURE IF EXISTS ValidateEmailFormat;
DROP PROCEDURE IF EXISTS InsertAvaliacao;

-- Drop tables
DROP TABLE IF EXISTS Item_Venda;
DROP TABLE IF EXISTS Item_Carrinho;
DROP TABLE IF EXISTS Pedido;
DROP TABLE IF EXISTS Endereco_Usuario;
DROP TABLE IF EXISTS Avaliacao;
DROP TABLE IF EXISTS Produto;
DROP TABLE IF EXISTS Usuario;
DROP TABLE IF EXISTS Endereco;
```

<div align = "center"><img src="https://raw.githubusercontent.com/UnBArqDsw2023-2/2023.2_G8_ProjetoMagazineLuiza/main/docs/Assets/ArquiteturaReutilizacao/VisaoDados/resultado_popula.png" alt="Figura 5: Resultado execução script popula."></div>

<p align='center'>
Figura 5: Resultado execução script popula. Autor: [Mauricio Machado](https://github.com/MauricioMachadoFF).
</p>


## 3. Visão Lógica

## 3.1. Introdução

<p align="justify">
Em um Documento de Arquitetura de Software, uma Visão Lógica pretende fornecer uma base para compreender a estrutura e a organização do design de um sistema, no caso, a plataforma Magazine Luiza. A Visão Lógica compreende um subconjunto de classes, subsistemas, pacotes e casos de uso, a fim de se ressaltar as características mais importantes do sistema.
</p>

## 3.2. Diagrama de Classes

<p align="justify">
Na fase de modelagem, o <a href="https://unbarqdsw2023-2.github.io/2023.2_G8_ProjetoMagazineLuiza/#/./Modelagem/2.1.1.1.DiagramaClasses">Diagrama de Classes</a> abaixo foi produzido.
</p>
<div align = "center"><img src="https://raw.githubusercontent.com/UnBArqDsw2023-2/2023.2_G8_ProjetoMagazineLuiza/main/docs/Assets/diagrama-de-classes-2.png" alt="Figura 2: Diagrama de Classes.">
</div>
<p align='center'>Figura 6: Diagrama de Classes.</p>

<p align="justify">
No entanto, após a fase de Padrões de Projeto, procurou-se implementar padrões de projeto pertinentes no Diagrama de Classes. Um dos problemas encontrados no fluxo de avaliação da plataforma MagazineLuiza é a possibilidade de realizar avaliações em um produto sem que o cliente o tenha comprado. Propõe-se, então, a utilização do Padrão de Projeto Chain of Responsibility, um GoF Comportamental que estabelece uma sequência de ações, a fim de se estabelecer uma lógica de verificação para o fluxo de avaliação: verifica-se a existência de um cliente, depois a existência de um pedido realizado pelo cliente, depois a existência de um produto que consta nesse pedido para, enfim, permitir ao cliente a realização da avaliação para esse produto em específico. Essa lógica foi representada no Diagrama de Classes a seguir.
</p>

<div align = "center"><img src="https://raw.githubusercontent.com/UnBArqDsw2023-2/2023.2_G8_ProjetoMagazineLuiza/visao-logica-diagrama-classes/docs/Assets/diagrama-classe-chain-of-responsibility.png" alt="Figura 2: Diagrama de Classes do Fluxo de Avaliação.">
</div>
<p align='center'>Figura 7: Diagrama de Classes.</p>

## 3.3 Diagrama de Colaboração

<p align="justify">
Na fase de modelagem, o Diagrama de Colaboração abaixo foi produzido.
</p>
<div align = "center"><img src="https://raw.githubusercontent.com/UnBArqDsw2023-2/2023.2_G8_ProjetoMagazineLuiza/main/docs/Assets/diagrama-de-colaboracao-avaliacao-1.png" alt="Figura 8: Diagrama de Colaboração.">
</div>
<p align='center'>Figura 8: Diagrama de Colaboração.</p>

<p align="justify">
No desenvolvimento do sistema, foi incorporado ao diagrama de colaboração o padrão de projeto State, visando aprimorar a gestão e controle de estados em determinadas entidades do sistema. A inclusão desse padrão oferece uma abordagem flexível para a alteração de comportamentos internos de um objeto quando seu estado interno muda, proporcionando uma estrutura mais modular e fácil de entender. O motivo por trás dessa decisão foi a necessidade de lidar de maneira eficiente com transições de estados em certos componentes do sistema, promovendo uma arquitetura mais organizada e adaptável. Essa incorporação do padrão State no diagrama de colaboração contribui para a manutenção da clareza no código, facilitando o entendimento e a evolução do software ao longo do tempo.
</p>

<div align = "center"><img src="https://raw.githubusercontent.com/UnBArqDsw2023-2/2023.2_G8_ProjetoMagazineLuiza/visao-logica-diagrama-Colaboração/docs/Assets/diagrama-classe-state.png" alt="Figura 9: Diagrama de Colaboração do Fluxo de Avaliação.">
</div>
<p align='center'>Figura 9: Diagrama de Colaboração com padrão State.</p>

## 3.4 Diagrama de Sequência

<p align="justify">
O uso do padrão State para o diagrama de sequência no fluxo de avaliações foi motivado pela necessidade de modelar as transições de estado que uma avaliação pode atravessar durante seu ciclo de vida. O padrão State proporciona uma maneira elegante de organizar e encapsular comportamentos específicos associados a cada fase do processamento da avaliação.
</p>
<p align="justify">
Ao utilizar o padrão State, é possível representar claramente os diferentes estados que uma avaliação pode assumir. Cada estado encapsula a lógica associada a suas responsabilidades específicas, tornando o diagrama de sequência mais modular e compreensível.
</p>
<p align="justify">
Além disso, o State facilita a adição de novos estados no futuro, caso haja a necessidade de expandir o fluxo de avaliações com novas fases. As transições entre os estados são explicitamente definidas, proporcionando clareza na compreensão do fluxo de controle e permitindo uma fácil manutenção do sistema.
</p>
<div align = "center"><img src="https://raw.github.com/UnBArqDsw2023-2/2023.2_G8_ProjetoMagazineLuiza/82-visao-logica-diagrama-sequencia/docs/Assets/diagrama_de_sequencia_state.png" alt="">
</div>
<p align='center'>Figura 8: Diagrama de Sequência.</p>

<p align="justify">
Na figura 9 pode-se conferir o <a href="https://unbarqdsw2023-2.github.io/2023.2_G8_ProjetoMagazineLuiza/#/./Modelagem/2.1.2.1.DiagramaSequencia">Diagrama de Sequência</a> feito na fase de modelagem
</p>
<div align = "center"><img src="https://raw.githubusercontent.com/UnBArqDsw2023-2/2023.2_G8_ProjetoMagazineLuiza/main/docs/Assets/sequencia_avaliar.png" alt="">
</div>
<p align='center'>Figura 9: Diagrama de Sequência - Avaliar Produto.</p>


## 4. Visão de Implementação


A perspectiva de implementação representa uma das cinco abordagens arquitetônicas essenciais em um sistema. Complementando as visões lógica, de caso de uso, de processos e de implementação, a visão de implementação focaliza as decisões arquitetônicas cruciais para a execução prática do sistema. Em termos práticos, esta visão, documentada no contexto do Documento de Arquitetura de Software, engloba (“Conceito: Visão da Implementação”, [s.d.]):

- Uma listagem abrangente de todos os subsistemas incorporados ao modelo de implementação.
- Diagramas de componentes que esclarecem a organização em camadas e hierarquias dos subsistemas.
- Representações gráficas de dependências de importação entre os subsistemas.

## 4.1 Padrões Arquiteturais

Segundo (BUSCHMANN et al., 1996), um padrão arquitetural é definido como:

"Um padrão arquitetural expressa um esquema de organização estrutural fundamental para sistemas de software. Fornece um conjunto de subsistemas predefinidos, especifica suas responsabilidades e inclui regras e diretrizes para organizar as relações entre eles."

Para este projeto será definido uma arquitetura geral e outra mais específica para cada subsistema da aplicação. Esses padrões podem ser consultados abaixo.

### 4.1.1 Visão Geral: Cliente-Servidor

A arquitetura cliente-servidor visa estruturar o sistema com processos cooperativos (servidores) que oferecem serviços aos processos de usuário (clientes), permitindo a comunicação exclusiva por troca de mensagens. Essa abordagem é adequada para sistemas distribuídos, facilitando a troca de mensagens entre processos em nodos distintos. O modelo usualmente utiliza protocolos simples de requisição/resposta, em que o cliente envia uma requisição ao servidor para obter um serviço. O servidor executa as operações associadas e responde ao cliente, fornecendo dados ou um código de erro, se necessário (“Redes de Computadores”, [s.d.]).

Como a aplicação da Magazine Luíza é um website de e-commerce, um modelo adequado para a implementação é a Cliente-Servidor (Figura X). Os dispositivos que acessam o site por algum navegador atuariam como clientes e os subsistemas que recebem requisições e enviam respostas atuariam como o Servidor.

<div align = "center"><img src="https://raw.githubusercontent.com/UnBArqDsw2023-2/2023.2_G8_ProjetoMagazineLuiza/main/docs/Assets/ArquiteturaReutilizacao/VisaoImplementacao/componentes_cliente_servidor.png" alt="Figura 10: Diagrama de componentes da arquitetura Cliente Servidor"></div>
<p align='center'>
Figura 10: Diagrama de componentes da arquitetura Cliente Servidor. Autores: Natan Santana e Guilherme Barbosa
</p>

### 4.1.2 Servidor: Arquitetura Hexagonal

A Arquitetura Hexagonal, proposta por Alistair Cockburn nos anos 90, visa criar sistemas que promovam reusabilidade de código, alta coesão, baixo acoplamento, independência de tecnologia e facilidade de teste. Essa abordagem divide as classes do sistema em dois grupos principais: as classes de domínio, relacionadas ao negócio, e as classes de infraestrutura, responsáveis pela integração com tecnologias e sistemas externos. As classes de domínio não dependem de classes de infraestrutura, permitindo desacoplamento. A comunicação entre esses grupos é mediada por adaptadores, representados em uma representação visual por dois hexágonos concêntricos. As portas, interfaces independentes de tecnologia, facilitam a comunicação entre as classes de domínio e os adaptadores. Estes últimos, localizados no hexágono externo, recebem e encaminham chamadas, proporcionando a interação entre o sistema e tecnologias externas (“O que é uma Arquitetura Hexagonal? – Engenharia de Software Moderna”, [s.d.]).

Visando criar um código possível de ser reutilizado e com as vantagens da arquitetura hexagonal, o servidor seguirá este padrão de acordo com o diagrama de componentes presente na Figura X.

<div align = "center"><img src="https://raw.githubusercontent.com/UnBArqDsw2023-2/2023.2_G8_ProjetoMagazineLuiza/main/docs/Assets/ArquiteturaReutilizacao/VisaoImplementacao/componentes_servidor.png" alt="Figura 11: Diagrama de componentes da arquitetura hexagonal do servidor"></div>
<p align='center'>
Figura 11: Diagrama de componentes da arquitetura hexagonal do servidor. Autores: Natan Santana e Guilherme Barbosa
</p>

O diagrama da Figura 12 a seguir possui uma visão mais detalhada que permite visualizar as relações de dependências e os subcomponentes que implementam as interfaces do padrão hexagonal.

<div align = "center"><img src="https://raw.githubusercontent.com/UnBArqDsw2023-2/2023.2_G8_ProjetoMagazineLuiza/main/docs/Assets/ArquiteturaReutilizacao/VisaoImplementacao/componentes_servidor_detalhado.png" alt="Figura 12: Diagrama de componentes da arquitetura hexagonal do servidor com detalhes"></div>
<p align='center'>
Figura 12: Diagrama de componentes da arquitetura hexagonal do servidor com detalhes. Autores: Natan Santana e Guilherme Barbosa
</p>


## 5. Conclusão

<p align='justify'>
O documento apresenta exemplos de utilização de diversos elementos, e a estrutura do documento em si é um exemplo de aplicação do padrão desejado para os documentos. Deve-se seguir o aqui exposto para op exercício de boas pŕaticas de documentação.
</p>

## 6. Referências

> SERRANO, Milene. AULA - ARQUITETURA & DAS – PARTE II. Disponível em: <https://aprender3.unb.br/pluginfile.php/2649469/mod_label/intro/Arquitetura%20e%20Desenho%20de%20Software%20-%20Aula%20Arquitetura%20e%20DAS%20-%20Parte%20II%20-%20Profa.%20Milene.pdf>. Acesso em: 25 Novembro de 2023.

> MYSQL: MySQL. Disponível em: <https://www.mysql.com>. Acesso em: 25, Novembro de 2023.

> brModelo: SIS4. brModelo, 2020. Disponível em: <http://www.sis4.com/brModelo/>. Acesso em: 25, Novembro de 2025.

> Conceito: Visão da Implementação. Disponível em: <https://www.cin.ufpe.br/~gta/rup-vc/core.base_rup/guidances/concepts/implementation_view_E373E3B6.html>. Acesso em: 27 nov. 2023.

> BUSCHMANN, F. et al. Pattern-oriented software architecture. Chichester: Wiley, 1996.

> Redes de Computadores. Disponível em: <https://www.inf.ufsc.br/~j.barreto/cca/internet/redesde.htm>. Acesso em: 27 nov. 2023.

> O que é uma Arquitetura Hexagonal? – Engenharia de Software Moderna. Disponível em: <https://engsoftmoderna.info/artigos/arquitetura-hexagonal.html#:~:text=Uma%20Arquitetura%20Hexagonal%20divide%20as>. Acesso em: 27 nov. 2023.

> FAKHROUTDINOV, Kirill. UML Class and Object Diagrams Overview. In: FAKHROUTDINOV, Kirill. The Unified Modeling Language. [S. l.], 2017. Disponível em: <https://www.uml-diagrams.org/uml-25-diagrams.html>. Acesso em: 29 set. 2023.

> SERRANO, Milene. Diretrizes Organização dos Projetos. Disponível em: <https://aprender3.unb.br/course/view.php?id=19535>. Acesso em: 29 set. de 2023.

> REFACTORING Guru: Chain of Responsibility. [S. l.], 2023. Disponível em: https://refactoring.guru/design-patterns/chain-of-responsibility. Acesso em: 27 nov. 2023.

> IBM CORP. Conceito: Visão Lógica: Uma visualização arquitetural denominada visualização lógica fornece uma base para compreender a estrutura e a organização do design do sistema.. [S. l.], 2006. Disponível em: https://www.cin.ufpe.br/~gta/rup-vc/core.base_rup/guidances/concepts/logical_view_C135365E.html. Acesso em: 27 nov. 2023.


## 7. Histórico de Versões


|    Data    | Versão |                                                      Descrição                                                      |                         Autor(a)                         | Revisor(a) |
| :--------: | :----: | :-----------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------: | :--------: |
| 25/11/2023 |  1.0   | Adição visão de dados (MER, Modelo Relacional, Dicionário de dados, scripts físico, scripts popula e scripts apaga) | [Mauricio Machado](https://github.com/MauricioMachadoFF) |     [Thiago Cerqueira](https://github.com/Thiago-Cerq)      |
| 27/11/2023 |  1.1   | Adição visão lógica (Introdução, Diagrama de Classes, Referências) |  [Brunna Louise](https://github.com/brunna-martins) |     [Thiago Cerqueira](https://github.com/Thiago-Cerq)      |
| 27/11/2023 |  1.2   | Adição visão de implementação: visão geral e servidor | [Natan Santana](https://github.com/Neitan2001) e [Guilherme Barbosa](https://github.com/guibrbs) |     [Thiago Cerqueira](https://github.com/Thiago-Cerq)      |
| 27/11/2023 | 1.3    | Adição do diagrama de comunicação                | [Thiago Cerqueira](https://github.com/Thiago-Cerq) | - |
| 29/11/2023 |  1.4   | Adição da visão detalhada de implementação | [Natan Santana](https://github.com/Neitan2001) e [Guilherme Barbosa](https://github.com/guibrbs) |     [Thiago Cerqueira](https://github.com/Thiago-Cerq)      |
| 29/11/2023 |  1.5   | Adição da padronização | [Thiago Cerqueira](https://github.com/Thiago-Cerq) |     [Natan Santana](https://github.com/Neitan2001) e [Guilherme Barbosa](https://github.com/guibrbs) |
| 29/11/2023 |  1.6   | Adição do Diagrama de Sequência | [Gabrielly Assunção](https://github.com/GabriellyAssuncao) |     |



